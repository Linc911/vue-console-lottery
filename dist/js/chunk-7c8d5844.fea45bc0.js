(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c8d5844"],{"2fb4":function(t,e,a){"use strict";var i=a("f599"),l=a.n(i);l.a},3885:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{attrs:{action:t.action,"on-success":t.handleUploadSuccess,"on-remove":t.handleRemoveFile,limit:t.limit,disabled:t.uploadDisabled,"list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"})])},l=[],o=(a("84fb"),{name:"FormUploadImage",props:{limit:{type:Number,default:1}},data:function(){return{action:"http://192.168.5.182:8080/api-f/files-anon/fdfsupload",uploadDisabled:!1}},methods:{handleUploadSuccess:function(t,e,a){this.$message.success("上传成功 该功能只能上传".concat(this.limit,"张图片")),this.$emit("on-uploaded",{response:t,file:e,fileList:a})},handleRemoveFile:function(t){this.limit<=1?this.$emit("on-removed",""):this.$emit("on-removed",t)}}}),r=o,s=a("048f"),n=Object(s["a"])(r,i,l,!1,null,null,null);n.options.__file="FormUploadImage.vue";e["a"]=n.exports},"5ae5":function(t,e,a){},"8ed5":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:t.dialogWidth},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{attrs:{src:t.imgUrl,width:"100%",height:"100%"}}),a("div",{staticStyle:{padding:"14px"}},[a("p",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.imgUrl))])])])],1)},l=[],o={props:{dialogTitle:{type:String,default:"图片预览"},dialogWidth:{type:String,default:"450px"},imgUrl:{type:String,required:!0}},data:function(){return{dialogVisible:!1}},methods:{toggleDialogVisible:function(t){this.dialogVisible=t}}},r=o,s=a("048f"),n=Object(s["a"])(r,i,l,!1,null,null,null);n.options.__file="DialogImagePreview.vue";e["a"]=n.exports},"92d8":function(t,e,a){},a531:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i",{staticClass:"el-icon-search",on:{click:function(e){t.$emit("on-click")}}})},l=[],o=(a("a692"),a("048f")),r={},s=Object(o["a"])(r,i,l,!1,null,"46b5fda1",null);s.options.__file="BasePreview.vue";e["a"]=s.exports},a692:function(t,e,a){"use strict";var i=a("b89a"),l=a.n(i);l.a},b89a:function(t,e,a){},d432:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SearchLayout",[a("div",{attrs:{slot:"left"},slot:"left"},[a("ActivityListSearch",{on:{"on-search":t.handleSearch}})],1),a("div",{attrs:{slot:"right"},slot:"right"},[a("BaseAdd",{nativeOn:{click:function(e){t.$refs.dialogCreate.toggleDialogVisible(!0)}}})],1)]),a("div",[a("ActivityListTable",{attrs:{data:t.tableData},on:{"on-updated":function(e){t.fetchTableData()},"on-deleted":function(e){t.fetchTableData()},"on-status-changed":function(e){t.fetchTableData()}}}),a("BasePagination",{attrs:{page:t.page,requestParams:t.requestParams,httpURL:t.tableHttpAPI},on:{"on-change":t.handlePaginationChange}})],1),a("ActivityListDialogCreate",{ref:"dialogCreate",on:{"on-created":function(e){t.fetchTableData()}}})],1)},l=[],o=(a("3a0f"),a("a3a3"),a("4d0b"),a("1b629")),r=a("3af3"),s=a("46e2"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{attrs:{model:t.formData,size:"small",inline:""}},[a("FormSelectStatic",{ref:"status",attrs:{options:[{value:0,label:"启用"},{value:1,label:"禁用"}],label:"启用状态",width:"100px"},on:{"on-change":function(e){t.$set(t.formData,"status",e)}}}),a("div",{staticStyle:{display:"inline-block"}},[a("SearchIcon",{nativeOn:{click:function(e){return t.search(e)}}}),a("SearchReset",{nativeOn:{click:function(e){return t.reset(e)}}})],1)],1)},c=[],m=a("b34f"),u=a("30ce"),p={name:"ActivityListSearch",components:{FormInput:m["a"],FormSelectStatic:u["a"]},mixins:[o["e"]]},f=p,d=a("048f"),v=Object(d["a"])(f,n,c,!1,null,null,null);v.options.__file="ActivityListSearch.vue";var b=v.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.data,size:"small","highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{type:"index",width:36}}),a("el-table-column",{attrs:{prop:"title",label:"活动标题",width:120}}),a("el-table-column",{attrs:{prop:"startTime",label:"开始时间",width:140},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("time")(e.row.startTime)))])]}}])}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间",width:140},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("time")(e.row.endTime)))])]}}])}),a("el-table-column",{attrs:{prop:"coverImg",label:"封面图片","min-width":70},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.coverImg?a("span",[t._v("\n          查看 "),a("BasePreview",{nativeOn:{click:function(a){t.showPreviewImage(e.row.coverImg)}}})],1):t._e()]}}])}),a("el-table-column",{attrs:{prop:"activityImg",label:"活动内容图片","min-width":70},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.activityImg?a("span",[t._v("\n          查看 "),a("BasePreview",{nativeOn:{click:function(a){t.showPreviewImage(e.row.activityImg)}}})],1):t._e()]}}])}),a("el-table-column",{attrs:{prop:"type",label:"应用设备",width:70},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.type?"手机端":"电脑端"))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"启用状态",width:70},scopedSlots:t._u([{key:"default",fn:function(e){return[a("BaseSwitch",{attrs:{propValue:!Boolean(e.row.status),payload:{id:e.row.id},opposite:""},on:{"on-change":t.handleSwitchChange}})]}}])}),a("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":45}}),a("el-table-column",{attrs:{prop:"operations",label:"操作","min-width":120},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-view",size:"mini"},on:{click:function(a){t.showDialog(e.row,"dialogDetail")}}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){t.showDialog(e.row,"dialogUpdate")}}}),a("el-button",{attrs:{type:"warning",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.showDialog(e.row,"dialogDelete")}}})]}}])})],1),a("DialogImagePreview",{ref:"imagePreview",attrs:{imgUrl:t.imgUrl,dialogWidth:"800px"}}),a("ActivityListDialogDetail",{ref:"dialogDetail",attrs:{data:t.activeItem}}),a("ActivityListDialogUpdate",{ref:"dialogUpdate",attrs:{data:t.activeItem},on:{"on-updated":function(e){t.$emit("on-updated")}}}),a("DialogDeleteConfirm",{ref:"dialogDelete",attrs:{title:"用户账户",name:t.activeItem.title},on:{"on-confirm":t.handleDeleteConfirm}})],1)},y=[],D=a("a531"),h=a("8ed5"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.dialogVisible,title:"优惠活动详情",width:"760px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{staticClass:"clearfix",attrs:{model:t.formData,size:"small","label-width":"80px",disabled:""}},[a("el-form-item",{attrs:{label:"活动标题"}},[a("el-input",{attrs:{value:t.formData.title}})],1),a("el-form-item",{attrs:{label:"应用设备"}},[a("el-input",{attrs:{value:t.formData.type?"手机端":"电脑端"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-input",{attrs:{value:t._f("time")(t.formData.startTime)}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-input",{attrs:{value:t._f("time")(t.formData.endTime)}})],1),t.formData.type?[a("el-form-item",{staticClass:"custom-block",attrs:{label:"申请方式"}},[a("el-input",{attrs:{value:t.formData.applyMode,type:"textarea",rows:"3"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{label:"活动简介"}},[a("el-input",{attrs:{value:t.formData.introduce,type:"textarea",rows:"3"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{label:"活动细则"}},[a("el-input",{attrs:{value:t.formData.activityBylaws,type:"textarea",rows:"3"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{label:"活动条款"}},[a("el-input",{attrs:{value:t.formData.activityClause,type:"textarea",rows:"3"}})],1)]:t._e(),a("el-form-item",{staticClass:"custom-block",attrs:{label:"活动内容"}},[a("el-input",{attrs:{value:t.formData.content,type:"textarea",rows:"3"}})],1),a("el-form-item",{attrs:{label:"封面图片"}},[a("div",{staticClass:"image-box"},[a("img",{staticClass:"activity-image",attrs:{src:t.formData.coverImg,alt:"封面图片"}})])]),a("el-form-item",{attrs:{label:"活动内容图片"}},[a("div",{staticClass:"image-box"},[a("img",{staticClass:"activity-image",attrs:{src:t.formData.activityImg,alt:"活动内容图片"}})])]),a("el-form-item",{attrs:{label:"启用状态"}},[a("el-input",{attrs:{value:t.formData.status?"禁用":"启用"}})],1)],2)],1)},_=[],x={name:"ActivityListDialogDetail",mixins:[o["b"]]},k=x,C=(a("2fb4"),Object(d["a"])(k,w,_,!1,null,"c8bb25f0",null));C.options.__file="ActivityListDialogDetail.vue";var I=C.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.dialogVisible,title:"创建新优惠活动",width:"760px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"formUpdate",staticClass:"clearfix",attrs:{model:t.formData,rules:t.rules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{prop:"title",label:"活动标题"}},[a("el-input",{attrs:{placeholder:"双11大优惠"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title","string"===typeof e?e.trim():e)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{prop:"type",label:"应用设备"}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-radio",{attrs:{label:0}},[t._v("电脑端")]),a("el-radio",{attrs:{label:1}},[t._v("手机端")])],1)],1),t.formData.type?[a("el-form-item",{staticClass:"custom-block",attrs:{prop:"applyMode",label:"申请方式"}},[a("el-input",{attrs:{placeholder:"提交表格..."},model:{value:t.formData.applyMode,callback:function(e){t.$set(t.formData,"applyMode","string"===typeof e?e.trim():e)},expression:"formData.applyMode"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"introduce",label:"活动简介"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"双11大优惠-优惠活动简介"},model:{value:t.formData.introduce,callback:function(e){t.$set(t.formData,"introduce","string"===typeof e?e.trim():e)},expression:"formData.introduce"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"activityBylaws",label:"活动细则"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"双11大优惠-活动细则"},model:{value:t.formData.activityBylaws,callback:function(e){t.$set(t.formData,"activityBylaws","string"===typeof e?e.trim():e)},expression:"formData.activityBylaws"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"activityClause",label:"活动条款"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"双11大优惠-活动条款"},model:{value:t.formData.activityClause,callback:function(e){t.$set(t.formData,"activityClause","string"===typeof e?e.trim():e)},expression:"formData.activityClause"}})],1)]:t._e(),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"startTime",label:"时间期限"}},[a("FormTimeRange",{ref:"dateRange",attrs:{value:[new Date(t.formData.startTime),new Date(t.formData.endTime)],width:"100%"},on:{"on-change":function(t){Object.assign(this.formData,{startTime:t.startTime,endTime:t.endTime})}}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"content",label:"活动内容"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"优惠活动内容"},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content","string"===typeof e?e.trim():e)},expression:"formData.content"}})],1),a("el-form-item",{attrs:{prop:"status",label:"启用状态"}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:0}},[t._v("启用")]),a("el-radio",{attrs:{label:1}},[t._v("禁用")])],1)],1),a("el-form-item",{attrs:{prop:"sort",label:"排序"}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"整数"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort","string"===typeof e?e.trim():e)},expression:"formData.sort"}})],1)],2),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.submitForm("formUpdate")}}},[t._v("确定")])],1)],1)},S=[],A=a("322c"),T=a("ab74"),L=a("0b3d"),P=a("fee4"),U={name:"ActivityListDialogUpdate",components:{FormTimeRange:T["a"],FormRadio:L["a"],FormTimeSelect:P["a"]},mixins:[o["c"]],data:function(){return{updateHttpAPI:"updateActivityItem",idParams:{},formData:{type:"",status:"",sort:"",startTime:"",endTime:""},rules:{title:A["a"].validateRequired("活动标题"),sort:A["a"].validateRequired("排序"),pc:A["a"].validateSelect("是否电脑段"),phone:A["a"].validateSelect("是否手机段"),status:A["a"].validateSelect("启用状态")}}},watch:{data:function(){this.idParams={id:this.data.id}}}},B=U,F=(a("d6ca"),Object(d["a"])(B,$,S,!1,null,"2a0c0531",null));F.options.__file="ActivityListDialogUpdate.vue";var O=F.exports,R=a("aa68"),V={name:"ActivityListTable",components:{BasePreview:D["a"],DialogImagePreview:h["a"],ActivityListDialogDetail:I,ActivityListDialogUpdate:O,DialogDeleteConfirm:R["a"]},mixins:[o["i"],o["h"]],data:function(){return{deleteHttpAPI:"deleteActivityItem",deleteAttrName:"id",switchObj:{API:"updateActivityItem",attrId:"id",attrValue:"status"},activeItem:{title:""},imgUrl:""}},methods:{showPreviewImage:function(t){this.imgUrl=t,this.$refs.imagePreview.toggleDialogVisible(!0)}}},j=V,z=Object(d["a"])(j,g,y,!1,null,null,null);z.options.__file="ActivityListTable.vue";var E=z.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.dialogVisible,title:"创建新优惠活动",width:"760px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"formCreate",staticClass:"clearfix",attrs:{model:t.formData,rules:t.rules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{prop:"title",label:"活动标题"}},[a("el-input",{attrs:{placeholder:"双11大优惠"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title","string"===typeof e?e.trim():e)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{prop:"type",label:"应用设备"}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-radio",{attrs:{label:0}},[t._v("电脑端")]),a("el-radio",{attrs:{label:1}},[t._v("手机端")])],1)],1),t.formData.type?[a("el-form-item",{staticClass:"custom-block",attrs:{prop:"applyMode",label:"申请方式"}},[a("el-input",{attrs:{placeholder:"提交表格..."},model:{value:t.formData.applyMode,callback:function(e){t.$set(t.formData,"applyMode","string"===typeof e?e.trim():e)},expression:"formData.applyMode"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"introduce",label:"活动简介"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"双11大优惠-优惠活动简介"},model:{value:t.formData.introduce,callback:function(e){t.$set(t.formData,"introduce","string"===typeof e?e.trim():e)},expression:"formData.introduce"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"activityBylaws",label:"活动细则"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"双11大优惠-活动细则"},model:{value:t.formData.activityBylaws,callback:function(e){t.$set(t.formData,"activityBylaws","string"===typeof e?e.trim():e)},expression:"formData.activityBylaws"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"activityClause",label:"活动条款"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"双11大优惠-活动条款"},model:{value:t.formData.activityClause,callback:function(e){t.$set(t.formData,"activityClause","string"===typeof e?e.trim():e)},expression:"formData.activityClause"}})],1)]:t._e(),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"startTime",label:"时间期限"}},[a("FormTimeRange",{ref:"dateRange",attrs:{width:"100%"},on:{"on-change":function(e){Object.assign(t.formData,{startTime:e.startTime,endTime:e.endTime})}}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"content",label:"活动内容"}},[a("el-input",{attrs:{type:"textarea",rows:"3",placeholder:"优惠活动内容"},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content","string"===typeof e?e.trim():e)},expression:"formData.content"}})],1),a("el-form-item",{attrs:{prop:"status",label:"启用状态"}},[a("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-radio",{attrs:{label:0}},[t._v("启用")]),a("el-radio",{attrs:{label:1}},[t._v("禁用")])],1)],1),a("el-form-item",{attrs:{prop:"sort",label:"排序"}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"整数"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort","string"===typeof e?e.trim():e)},expression:"formData.sort"}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"coverImg",label:"封面图片"}},[a("FormUploadImage",{on:{"on-uploaded":function(e){t.$set(t.formData,"coverImg",e.response)},"on-removed":function(e){t.$set(t.formData,"coverImg",e)}}})],1),a("el-form-item",{staticClass:"custom-block",attrs:{prop:"activityImg",label:"活动内容图片"}},[a("FormUploadImage",{on:{"on-uploaded":function(e){t.$set(t.formData,"activityImg",e.response)},"on-removed":function(e){t.$set(t.formData,"activityImg",e)}}})],1)],2),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.submitForm("formCreate")}}},[t._v("确定")])],1)],1)},q=[],H=a("3885"),N={name:"ActivityListDialogCreate",components:{FormTimeRange:T["a"],FormUploadImage:H["a"]},mixins:[o["a"]],data:function(){return{createHttpAPI:"updateActivityItem",formData:{type:0,status:0,sort:1},rules:{title:A["a"].validateRequired("活动标题"),sort:A["a"].validateRequired("排序"),pc:A["a"].validateSelect("是否电脑段"),phone:A["a"].validateSelect("是否手机段"),status:A["a"].validateSelect("启用状态")}}}},W=N,J=(a("eef4"),Object(d["a"])(W,M,q,!1,null,"03429f71",null));J.options.__file="ActivityListDialogCreate.vue";var G=J.exports,K={name:"ActivityList",components:{SearchLayout:r["a"],BaseAdd:s["a"],ActivityListSearch:b,ActivityListTable:E,ActivityListDialogCreate:G},mixins:[o["f"],o["j"]],data:function(){return{tableData:[],tableHttpAPI:"fetchActivityList",requestParams:{pageNo:1,pageSize:10},page:{current:1,size:10,total:10}}}},Q=K,X=Object(d["a"])(Q,i,l,!1,null,null,null);X.options.__file="index.vue";e["default"]=X.exports},d6ca:function(t,e,a){"use strict";var i=a("5ae5"),l=a.n(i);l.a},eef4:function(t,e,a){"use strict";var i=a("92d8"),l=a.n(i);l.a},f599:function(t,e,a){}}]);
//# sourceMappingURL=chunk-7c8d5844.fea45bc0.js.map