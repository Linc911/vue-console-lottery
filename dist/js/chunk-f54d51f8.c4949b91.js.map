{"version":3,"sources":["webpack:///./src/components/vue-chartjs/DoughnutChart.js","webpack:///./src/views/finance/FinanceStatistics.vue?4e8e","webpack:///src/views/finance/FinanceStatistics.vue","webpack:///./src/views/finance/FinanceStatistics.vue?c3ac","webpack:///./src/views/finance/FinanceStatistics.vue"],"names":["vue_chartjs__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","reactiveProp","mixins","__webpack_exports__","extends","Doughnut","props","mounted","this","renderChart","chartData","options","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","staticStyle","max-width","margin","chart-data","chartDoughnutData","width","staticRenderFns","FinanceStatisticsvue_type_script_lang_js_","name","components","DoughnutChart","data","created","fetchFinanceStatistics","methods","_this","$httpAPI","then","response","initChartData","catch","error","console","log","obj","keys","values","k","push","_transferPayType","toFixed","labels","datasets","backgroundColor","type","finance_FinanceStatisticsvue_type_script_lang_js_","component","Object","componentNormalizer","__file"],"mappings":"kHAAA,IAAAA,EAAAC,EAAA,QAEQC,EAAiBC,OAAjBD,aAEOE,EAAA,MACbC,QAASC,OACTH,QAAUD,GACVK,OAAQ,YAAa,WACrBC,QAJa,WAKXC,KAAKC,YAAYD,KAAKE,UAAWF,KAAKG,qDCT1C,IAAAC,EAAA,WAA0B,IAAAC,EAAAL,KAAaM,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,uBAAiCF,EAAA,WAAAA,EAAA,OAA0BG,OAAOC,KAAA,UAAgBA,KAAA,WAAeJ,EAAA,QAAAH,EAAAQ,GAAA,cAAAL,EAAA,OAA4CE,YAAA,kBAAAI,aAA2CC,YAAA,QAAAC,OAAA,YAAuCR,EAAA,iBAAsBG,OAAOM,aAAAZ,EAAAa,kBAAAC,MAAA,QAAgD,UACtZC,iDCgBAC,GACAC,KAAA,oBACAC,YACAC,gBAAA,MAEAC,KALA,WAMA,OACAP,kBAAA,OAGAQ,QAVA,WAWA1B,KAAA2B,0BAEAC,SAEAD,uBAFA,WAEA,IAAAE,EAAA7B,KACAA,KAAA8B,SAAAH,uBAAA,kCAAAI,KAAA,SAAAC,GACAH,EAAAI,cAAAD,EAAAP,aACAS,MAAA,SAAAC,GAAA,OAAAC,QAAAC,IAAAF,MAEAF,cAPA,SAOAK,GACA,IAAAC,KACAC,KAGA,QAAAC,KAAAH,EACAC,EAAAG,KAAA1C,KAAA2C,iBAAAF,IACAD,EAAAE,KAAAJ,EAAAG,GAAAG,QAAA,IAGA5C,KAAAkB,mBACA2B,OAAAN,EACAO,WAEAC,iBAAA,6DACAtB,KAAAe,MAMAG,iBA5BA,SA4BAK,GACA,OAAAA,GACA,oBACA,eACA,kBACA,aACA,eACA,cACA,gBACA,aACA,sBACA,eACA,kBACA,aACA,QACA,eCzE8cC,EAAA,cCO9cC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA7C,EACAgB,GACF,EACA,KACA,KACA,MAIA8B,EAAA/C,QAAAkD,OAAA,wBACe1D,EAAA,WAAAuD","file":"js/chunk-f54d51f8.c4949b91.js","sourcesContent":["import { Doughnut, mixins } from 'vue-chartjs'\n\nconst { reactiveProp } = mixins\n\nexport default {\n  extends: Doughnut,\n  mixins: [ reactiveProp ],\n  props: ['chartData', 'options'],\n  mounted () {\n    this.renderChart(this.chartData, this.options)\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"finance-statistics\"},[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"平台收支汇总\")])]),_c('div',{staticClass:\"chart-container\",staticStyle:{\"max-width\":\"760px\",\"margin\":\"0 auto\"}},[_c('DoughnutChart',{attrs:{\"chart-data\":_vm.chartDoughnutData,\"width\":760}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"finance-statistics\">\n    <el-card>\n      <div slot=\"header\">\n        <!-- <i class=\"fa fa-gears\"></i> -->\n        <span>平台收支汇总</span>\n      </div>\n      <div class=\"chart-container\" style=\"max-width: 760px; margin: 0 auto\">\n        <DoughnutChart :chart-data=\"chartDoughnutData\" :width=\"760\" />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport DoughnutChart from '@/components/vue-chartjs/DoughnutChart'\n\nexport default {\n  name: 'FinanceStatistics',\n  components: {\n    DoughnutChart\n  },\n  data () {\n    return {\n      chartDoughnutData: null\n    }\n  },\n  created () {\n    this.fetchFinanceStatistics()\n  },\n  methods: {\n    // 存款统计\n    fetchFinanceStatistics () {\n      this.$httpAPI.fetchFinanceStatistics('/api-b/index/statistic/deposit').then(response => {\n        this.initChartData(response.data.data)\n      }).catch(error => console.log(error))\n    },\n    initChartData (obj) {\n      let keys = []\n      let values = []\n\n      // 生成统计表需要的标题数组，和数据数组\n      for (let k in obj) {\n        keys.push(this._transferPayType(k))\n        values.push(obj[k].toFixed(2))\n      }\n\n      this.chartDoughnutData = {\n        labels: keys,\n        datasets: [\n          {\n            backgroundColor: [ '#FC7A6A', '#60A5B5', '#F1C77A', '#8994A8', '#5AC79D', '#409eff' ],\n            data: values\n          }\n        ]\n      }\n    },\n    // 将支付方式转为中文\n    _transferPayType (type) {\n      switch (type) {\n        case 'withdrawMoney':\n          return '会员申请取款'\n        case 'wechatMoney':\n          return '微信支付'\n        case 'aliMoney':\n          return '支付宝支付'\n        case 'bankMoney':\n          return '银联支付'\n        case 'artificialMoney':\n          return '客服填单存款'\n        case 'rebateMoney':\n          return '会员返水'\n        default:\n          return '其他'\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./FinanceStatistics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./FinanceStatistics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FinanceStatistics.vue?vue&type=template&id=49b870bd&lang=html&\"\nimport script from \"./FinanceStatistics.vue?vue&type=script&lang=js&\"\nexport * from \"./FinanceStatistics.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"FinanceStatistics.vue\"\nexport default component.exports"],"sourceRoot":""}