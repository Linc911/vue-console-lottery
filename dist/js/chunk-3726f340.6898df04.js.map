{"version":3,"sources":["webpack:///./src/views/system/SystemRolesList.vue?70cf","webpack:///src/views/system/SystemRolesList.vue","webpack:///./src/views/system/SystemRolesList.vue?f68d","webpack:///./src/views/system/SystemRolesList.vue","webpack:///./src/components/dialog/DialogDeleteConfirm.vue?ee07","webpack:///./src/views/system/SystemRolesList.vue?887a","webpack:///./src/components/base/SearchPlain.vue?36ac","webpack:///src/components/base/SearchPlain.vue","webpack:///./src/components/base/SearchPlain.vue?9538","webpack:///./src/components/base/SearchPlain.vue","webpack:///./node_modules/_core-js@2.5.7@core-js/modules/_fix-re-wks.js","webpack:///./node_modules/_core-js@2.5.7@core-js/modules/es6.regexp.search.js","webpack:///./src/components/dialog/DialogDeleteConfirm.vue?7bba","webpack:///src/components/dialog/DialogDeleteConfirm.vue","webpack:///./src/components/dialog/DialogDeleteConfirm.vue?aa95","webpack:///./src/components/dialog/DialogDeleteConfirm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","placeholder","on","on-input","handleSearchInfo","to","icon","size","type","_v","data","tableActiveData","highlight-current-row","border","prop","label","scopedSlots","_u","key","fn","scope","_s","_f","row","createTime","min-width","click","$event","$router","push","showDialogDelete","showDialogAuthorization","id","showDialogMenu","ref","name","deletingRole","title","on-confirm","handleDialogDeleteConfirm","visible","dialogAuthorizationVisible","width","center","update:visible","transferData","filter-method","transferFilterMethod","titles","filter-placeholder","filterable","model","value","callback","$$v","transferCurrentData","expression","dialogTreeVisible","treeData","empty-text","show-checkbox","highlight-current","default-expand-all","check-change","handleCheckChange","staticRenderFns","SystemRolesListvue_type_script_lang_js_","components","SearchPlain","DialogDeleteConfirm","tableData","authorizations","created","fetchUsersRoles","methods","keyword","$_","filter","item","includes","role","$refs","dialogDelete","toggleDialogStatus","_this","$axios","delete","then","$message","success","catch","error","_this2","length","get","concat","response","forEach","disabled","query","indexOf","_this3","group","i","children","child","j","console","log","_this4","system_SystemRolesListvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_0_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_1_2_2_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_DialogDeleteConfirm_vue_vue_type_style_index_0_id_e7eae444_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_0_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_1_2_2_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_DialogDeleteConfirm_vue_vue_type_style_index_0_id_e7eae444_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_0_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_1_2_2_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_SystemRolesList_vue_vue_type_style_index_0_id_2aa57443_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_0_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_1_2_2_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_SystemRolesList_vue_vue_type_style_index_0_id_2aa57443_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","staticStyle","debounce","suffix-icon","input","searchInfo","search","SearchPlainvue_type_script_lang_js_","props","String","default","$emit","base_SearchPlainvue_type_script_lang_js_","hide","redefine","fails","defined","wks","module","exports","KEY","exec","SYMBOL","fns","strfn","rxfn","O","prototype","RegExp","string","arg","call","SEARCH","$search","regexp","undefined","dialogVisible","slot","DialogDeleteConfirmvue_type_script_lang_js_","required","toggleDialogVisible","status","dialog_DialogDeleteConfirmvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-3726f340.6898df04.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"roles-list\"},[_c('div',{staticClass:\"search-container clearfix\"},[_c('div',{staticClass:\"search-left\"},[_c('SearchPlain',{attrs:{\"placeholder\":'角色名搜索'},on:{\"on-input\":_vm.handleSearchInfo}})],1),_c('div',{staticClass:\"search-right\"},[_c('router-link',{attrs:{\"to\":\"/system/role/create\"}},[_c('el-button',{attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"添加\")])],1)],1)]),_c('div',{staticClass:\"table-roles\"},[_c('el-table',{attrs:{\"data\":_vm.tableActiveData,\"size\":\"small\",\"highlight-current-row\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"code\",\"label\":\"Code\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"角色名\"}}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.createTime)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"operations\",\"label\":\"操作\",\"min-width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.$router.push((\"/system/role/\" + (scope.row.id) + \"/update\"))}}}),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.showDialogDelete(scope.row)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.showDialogAuthorization(scope.row.id)}}},[_vm._v(\"分配权限\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.showDialogMenu(scope.row.id)}}},[_vm._v(\"分配菜单\")])]}}])})],1)],1),_c('DialogDeleteConfirm',{ref:\"dialogDelete\",attrs:{\"name\":_vm.deletingRole.name,\"title\":\"角色名\"},on:{\"on-confirm\":_vm.handleDialogDeleteConfirm}}),_c('el-dialog',{attrs:{\"title\":\"分配角色权限\",\"visible\":_vm.dialogAuthorizationVisible,\"width\":\"560px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogAuthorizationVisible=$event}}},[_c('el-transfer',{attrs:{\"data\":_vm.transferData,\"filter-method\":_vm.transferFilterMethod,\"titles\":[ '已分配权限', '未分配权限' ],\"filter-placeholder\":\"角色权限\",\"filterable\":\"\"},model:{value:(_vm.transferCurrentData),callback:function ($$v) {_vm.transferCurrentData=$$v},expression:\"transferCurrentData\"}})],1),_c('el-dialog',{attrs:{\"title\":\"分配角色菜单\",\"visible\":_vm.dialogTreeVisible,\"width\":\"60%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogTreeVisible=$event}}},[_c('div',{staticClass:\"tree-container\"},[_c('el-tree',{attrs:{\"data\":_vm.treeData,\"empty-text\":\"数据返回异常\",\"show-checkbox\":\"\",\"highlight-current\":\"\",\"default-expand-all\":\"\"},on:{\"check-change\":_vm.handleCheckChange}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <section class=\"roles-list\">\n    <!-- 条件筛选 -->\n    <div class=\"search-container clearfix\">\n      <div class=\"search-left\">\n        <SearchPlain @on-input=\"handleSearchInfo\" :placeholder=\"'角色名搜索'\" />\n      </div>\n      <div class=\"search-right\">\n        <router-link to=\"/system/role/create\">\n          <el-button icon=\"el-icon-circle-plus-outline\" size=\"small\" type=\"primary\">添加</el-button>\n        </router-link>\n      </div>\n    </div>\n    <!-- 表格数据 -->\n    <div class=\"table-roles\">\n      <el-table\n        :data=\"tableActiveData\"\n        size=\"small\"\n        highlight-current-row\n        border\n      >\n        <el-table-column prop=\"code\" label=\"Code\"></el-table-column>\n        <el-table-column prop=\"name\" label=\"角色名\"></el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\" >\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.createTime | time}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"operations\" label=\"操作\" min-width=\"300px\">\n          <template slot-scope=\"scope\">\n            <el-button\n              @click=\"$router.push(`/system/role/${scope.row.id}/update`)\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n              type=\"primary\"\n            />\n\n            <el-button\n              @click=\"showDialogDelete(scope.row)\"\n              icon=\"el-icon-delete\"\n              size=\"mini\"\n              type=\"primary\"\n            />\n\n            <el-button\n              @click=\"showDialogAuthorization(scope.row.id)\"\n              size=\"mini\"\n              type=\"primary\"\n            >分配权限</el-button>\n\n            <el-button\n              @click=\"showDialogMenu(scope.row.id)\"\n              size=\"mini\"\n              type=\"primary\"\n            >分配菜单</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!-- 删除确认弹框 -->\n    <DialogDeleteConfirm\n      @on-confirm=\"handleDialogDeleteConfirm\"\n      :name=\"deletingRole.name\"\n      title=\"角色名\"\n      ref=\"dialogDelete\"\n    />\n    <!-- 分配权限弹框 -->\n    <el-dialog\n      title=\"分配角色权限\"\n      :visible.sync=\"dialogAuthorizationVisible\"\n      width=\"560px\"\n      center\n    >\n      <el-transfer\n        v-model=\"transferCurrentData\"\n        :data=\"transferData\"\n        :filter-method=\"transferFilterMethod\"\n        :titles=\"[ '已分配权限', '未分配权限' ]\"\n        filter-placeholder=\"角色权限\"\n        filterable\n      />\n    </el-dialog>\n    <!-- 分配菜单弹框 -->\n    <el-dialog\n      title=\"分配角色菜单\"\n      :visible.sync=\"dialogTreeVisible\"\n      width=\"60%\"\n      center\n    >\n      <div class=\"tree-container\">\n        <el-tree\n          :data=\"treeData\"\n          @check-change=\"handleCheckChange\"\n          empty-text=\"数据返回异常\"\n          show-checkbox\n          highlight-current\n          default-expand-all\n        />\n      </div>\n    </el-dialog>\n  </section>\n</template>\n\n<script>\nimport SearchPlain from '@/components/base/SearchPlain'\nimport DialogDeleteConfirm from '@/components/dialog/DialogDeleteConfirm'\n\nexport default {\n  name: 'rolesList',\n  components: {\n    SearchPlain,\n    DialogDeleteConfirm\n  },\n  data () {\n    return {\n      tableData: [], // 全部角色对象\n      tableActiveData: [], // 搜索匹配的角色对象\n      deletingRole: { name: '' }, // 将要删除的角色对象\n      dialogAuthorizationVisible: false,\n      authorizations: [],\n      transferData: [],\n      transferCurrentData: [],\n      dialogTreeVisible: false,\n      treeData: []\n    }\n  },\n  created () {\n    this.fetchUsersRoles()\n  },\n  methods: {\n    // 根据输入框内容，显示符合匹配条件的角色\n    handleSearchInfo (keyword) {\n      this.tableActiveData = this.$_.filter(this.tableData, item => item.name.includes(keyword))\n    },\n    // 显示删除确认弹框\n    showDialogDelete (role) {\n      this.deletingRole = role\n      this.$refs.dialogDelete.toggleDialogStatus(true)\n    },\n    // 删除对应的权限\n    handleDialogDeleteConfirm () {\n      this.$axios.delete('/api-u/roles/' + this.deletingRole.id).then(() => {\n        this.$refs.dialogDelete.toggleDialogStatus(false) // 隐藏弹框\n        this.fetchUsersRoles() // 请求最新数据\n        this.$message.success('删除角色成功！')\n      }).catch(() => this.$message.error('删除角色失败！'))\n    },\n    // 显示分配角色权限弹框\n    showDialogAuthorization (id) {\n      if (!this.transferData.length) {\n        this.$axios.get(`/api-u/roles/${id}/permissions`).then(response => {\n          response.data.forEach(item => {\n            this.transferData.push({\n              key: item.id,\n              label: item.name,\n              disabled: false\n            })\n          })\n          this.dialogAuthorizationVisible = true\n        })\n      } else {\n        this.dialogAuthorizationVisible = true\n      }\n    },\n    transferFilterMethod (query, item) {\n      return item.label.indexOf(query) > -1\n    },\n    // 显示分配角色菜单弹框\n    showDialogMenu (id) {\n      if (!this.treeData.length) {\n        this.$axios.get('api-b/menus/tree').then(response => {\n          response.data.forEach((group, i) => {\n            this.treeData.push({\n              id: group.id,\n              label: group.name,\n              disabled: false,\n              children: []\n            })\n            group.child.forEach((item, j) => {\n              this.treeData[i].children.push({\n                id: item.id,\n                label: item.name,\n                disabled: false\n                // children: []\n              })\n            })\n          })\n          this.dialogTreeVisible = true\n        })\n      } else {\n        this.dialogTreeVisible = true\n      }\n    },\n    handleCheckChange () {\n      console.log('handleCheckChange')\n    },\n    // 获取全部角色数据\n    fetchUsersRoles () {\n      this.$axios.get('/api-u/roles').then(response => {\n        this.tableData = this.tableActiveData = response.data.data\n      }).catch(error => {\n        console.log(error)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.search-container {\n  margin-bottom: 20px;\n}\n.search-left {\n  float: left;\n}\n.search-right {\n  float: right;\n  text-align: right;\n}\n.tree-container {\n  padding-bottom: 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./SystemRolesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./SystemRolesList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SystemRolesList.vue?vue&type=template&id=2aa57443&scoped=true&lang=html&\"\nimport script from \"./SystemRolesList.vue?vue&type=script&lang=js&\"\nexport * from \"./SystemRolesList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SystemRolesList.vue?vue&type=style&index=0&id=2aa57443&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2aa57443\",\n  null\n  \n)\n\ncomponent.options.__file = \"SystemRolesList.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.0@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./DialogDeleteConfirm.vue?vue&type=style&index=0&id=e7eae444&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.0@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./DialogDeleteConfirm.vue?vue&type=style&index=0&id=e7eae444&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.0@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./SystemRolesList.vue?vue&type=style&index=0&id=2aa57443&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.0@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./SystemRolesList.vue?vue&type=style&index=0&id=2aa57443&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-input',{staticStyle:{\"width\":\"240px\"},attrs:{\"placeholder\":_vm.placeholder,\"debounce\":400,\"suffix-icon\":\"el-icon-search\",\"size\":\"small\"},on:{\"input\":_vm.searchInfo},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <el-input\n    v-model=\"search\"\n    @input=\"searchInfo\"\n    :placeholder=\"placeholder\"\n    :debounce=\"400\"\n    suffix-icon=\"el-icon-search\"\n    size=\"small\"\n    style=\"width: 240px;\"\n  />\n</template>\n\n<script>\nexport default {\n  props: {\n    placeholder: {\n      type: String,\n      default: '请输入内容'\n    }\n  },\n  data () {\n    return {\n      search: ''\n    }\n  },\n  methods: {\n    // 根据输入框内容，显示符合匹配条件的角色\n    searchInfo () {\n      this.$emit('on-input', this.search)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./SearchPlain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./SearchPlain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchPlain.vue?vue&type=template&id=3f8a5f85&lang=html&\"\nimport script from \"./SearchPlain.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchPlain.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"SearchPlain.vue\"\nexport default component.exports","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"title\":\"删除确认\",\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',[_c('span',{staticClass:\"highlight-text\"},[_vm._v(\"删除\")]),_vm._v(\"\\n    \"+_vm._s(_vm.title)+\" 为\\n    \"),_c('span',{staticClass:\"highlight-text\"},[_vm._v(_vm._s(_vm.name)+\" \")]),_vm._v(\"数据?\\n  \")]),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.$emit('on-confirm')}}},[_vm._v(\"确认\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <el-dialog :visible.sync=\"dialogVisible\" title=\"删除确认\" width=\"400px\">\n    <div>\n      <span class=\"highlight-text\">删除</span>\n      {{title}} 为\n      <span class=\"highlight-text\">{{name}} </span>数据?\n    </div>\n    <span slot=\"footer\">\n      <el-button type=\"primary\" @click=\"$emit('on-confirm')\">确认</el-button>\n      <el-button @click=\"dialogVisible = false\">取消</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script type=\"text/javascript\">\nexport default {\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    name: {\n      type: String,\n      required: true\n    }\n  },\n  data () {\n    return {\n      dialogVisible: false\n    }\n  },\n  methods: {\n    toggleDialogVisible (status) {\n      this.dialogVisible = status\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.highlight-text {\n  color: #F56C6C;\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./DialogDeleteConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./DialogDeleteConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DialogDeleteConfirm.vue?vue&type=template&id=e7eae444&scoped=true&lang=html&\"\nimport script from \"./DialogDeleteConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./DialogDeleteConfirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DialogDeleteConfirm.vue?vue&type=style&index=0&id=e7eae444&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7eae444\",\n  null\n  \n)\n\ncomponent.options.__file = \"DialogDeleteConfirm.vue\"\nexport default component.exports"],"sourceRoot":""}